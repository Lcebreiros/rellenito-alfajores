/* Sistema de temas y colores por m√≥dulo */
@import './theme-system.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

[x-cloak] {
    display: none;
}

/* Keyframe animations */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@layer components {
  /* Card components with improved dark mode and glass effect */
  .card-dark {
    @apply rounded-2xl border shadow-sm
           bg-white/80 border-white/60
           dark:bg-neutral-900/60 dark:border-neutral-700/40 dark:shadow-dark-md;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .card-elevated {
    @apply rounded-2xl border shadow-md
           bg-white/85 border-white/70
           dark:bg-neutral-800/60 dark:border-neutral-700/50 dark:shadow-dark-lg;
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }

  /* Text utilities for dark mode */
  .text-primary { @apply text-neutral-900 dark:text-neutral-100; }
  .text-secondary { @apply text-neutral-700 dark:text-neutral-300; }
  .text-muted { @apply text-neutral-500 dark:text-neutral-400; }
  .text-subtle { @apply text-neutral-400 dark:text-neutral-500; }

  /* Backgrounds with glass effect */
  .bg-surface {
    @apply bg-white/75 dark:bg-neutral-900/50;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  .bg-elevated {
    @apply bg-white/80 dark:bg-neutral-800/50;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }
  .bg-base {
    @apply bg-neutral-50/60 dark:bg-neutral-900/40;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  /* Borders */
  .border-light { @apply border-neutral-200 dark:border-dark-border; }
  .border-medium { @apply border-neutral-300 dark:border-neutral-700; }

  /* Dividers */
  .divider-dark { @apply border-neutral-200 dark:border-dark-border; }

  /* Inputs with dark mode */
  .input-dark {
    @apply border-neutral-300 bg-white text-neutral-900
           focus:border-indigo-500 focus:ring-indigo-500
           dark:border-neutral-700 dark:bg-dark-elevated dark:text-neutral-100
           dark:focus:border-primary-400 dark:focus:ring-primary-400
           dark:placeholder-neutral-500;
  }

  /* Buttons with improved dark mode and micro-interactions */
  .btn-primary {
    @apply bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500
           dark:bg-primary-500 dark:hover:bg-primary-600 dark:focus:ring-primary-400
           shadow-sm dark:shadow-dark-sm
           transition-all duration-150 ease-out
           active:scale-[0.98] active:shadow-none;
  }

  .btn-secondary {
    @apply bg-neutral-100 text-neutral-700 hover:bg-neutral-200
           dark:bg-dark-elevated dark:text-neutral-200 dark:hover:bg-neutral-700
           dark:border dark:border-dark-border
           transition-all duration-150 ease-out
           active:scale-[0.98];
  }

  .btn-danger {
    @apply bg-rose-600 text-white hover:bg-rose-700 focus:ring-rose-500
           dark:bg-rose-500 dark:hover:bg-rose-600
           shadow-sm dark:shadow-dark-sm
           transition-all duration-150 ease-out
           active:scale-[0.98] active:shadow-none;
  }

  /* Loading skeleton with shimmer animation */
  .skeleton {
    @apply bg-neutral-200 dark:bg-neutral-700 rounded overflow-hidden relative;
  }

  .skeleton::before {
    content: '';
    @apply absolute inset-0 -translate-x-full;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    animation: shimmer 1.5s infinite;
  }

  .dark .skeleton::before {
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.05),
      transparent
    );
  }

  .skeleton-text {
    @apply h-4 bg-neutral-200 dark:bg-neutral-700 rounded skeleton;
  }

  /* Smooth transitions for dark mode toggle */
  .dark-transition {
    @apply transition-colors duration-200 ease-in-out;
  }

  /* Links with consistent styling */
  .link {
    @apply text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300
           transition-colors duration-150 ease-out
           hover:underline decoration-2 underline-offset-2;
  }

  .link-muted {
    @apply text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100
           transition-colors duration-150 ease-out;
  }

  /* Card hover effect */
  .card-hover {
    @apply transition-all duration-200 ease-out
           hover:shadow-lg dark:hover:shadow-dark-lg
           hover:-translate-y-0.5;
  }

  /* Input focus effect */
  .input-focus {
    @apply transition-all duration-150 ease-out
           focus:ring-2 focus:ring-offset-2
           focus:scale-[1.01];
  }
}

@layer utilities {
  /* Smooth scrollbar for dark mode */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(163 163 163 / 0.3) transparent;
  }

  .dark .scrollbar-thin {
    scrollbar-color: rgb(115 115 115 / 0.4) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-neutral-300 dark:bg-neutral-600 rounded-full;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    @apply bg-neutral-400 dark:bg-neutral-500;
  }
}
