/* resources/css/dashboard.css */
/* Reglas mínimas y seguras; coinciden con tu Blade existente */

:root{
  --gap: .5rem;        /* 8px */
  --row-h: 60px;
  --min-widget-w: 96px;  /* mínimos reducidos */
  --min-widget-h: 90px;

  --card-bg: #fff;
  --card-bd: rgba(148,163,184,.2);
  --card-shadow: 0 4px 6px -1px rgba(0,0,0,.08), 0 2px 4px -1px rgba(0,0,0,.04);
  --card-top: linear-gradient(90deg, #6366f1, #06b6d4, #22c55e);
}
@media (min-width:1024px){
  :root{ --row-h: 64px; }
}
.dark{
  --card-bg: #1f2937;
  --card-bd: rgba(75,85,99,.3);
  --card-shadow: 0 6px 10px -4px rgba(0,0,0,.35);
}

/* GRID */
.dashboard-grid{
  display:grid;
  grid-template-columns:repeat(12,minmax(0,1fr));
  gap:var(--gap);
  grid-auto-rows:var(--row-h);
  align-items:start;
}
.dashboard-grid > *{ min-width:0; }

/* Widget contenedor */
.widget-resizable{
  position: relative;
  min-inline-size: var(--min-widget-w);
  min-block-size: var(--min-widget-h);
  min-width: var(--min-widget-w);
  min-height: var(--min-widget-h);
  overflow: hidden;
}

/* Drag handle */
.drag-handle{
  position:absolute; left:.5rem; top:.5rem;
  display:flex; align-items:center; gap:.25rem;
  padding:.25rem .5rem; border-radius:9999px;
  background:rgba(99,102,241,.12);
  border:1px dashed rgba(99,102,241,.35);
  color:#4f46e5; font-size:12px; font-weight:600;
  cursor:grab; z-index:12; user-select:none;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
}
.dark .drag-handle{ background:rgba(99,102,241,.18); color:#818cf8; border-color:rgba(129,140,248,.5); }

/* Handles redimensionar */
.resize-handle{ position:absolute; opacity:0; transition:opacity .2s ease; z-index:11; }
.widget-resizable:hover .resize-handle{ opacity:1; }
.resize-handle-e{ top:0; right:-6px; width:12px; height:100%; cursor:ew-resize; }
.resize-handle-s{ left:0; bottom:-6px; width:100%; height:12px; cursor:ns-resize; }
.resize-handle-se{ right:-8px; bottom:-8px; width:16px; height:16px; border-radius:50%; background:#6366f1; cursor:nwse-resize; box-shadow:0 2px 8px rgba(0,0,0,.25); }

/* Ghost + chip (opcionales) */
.resize-ghost{
  position:absolute; inset:0; border:2px dashed #6366f1; border-radius:12px;
  background:rgba(99,102,241,.08); pointer-events:none; display:none;
  z-index:10;
}
.size-chip{
  position:absolute; right:.5rem; bottom:.5rem; z-index:13;
  padding:.15rem .45rem; font-size:11px; font-weight:700;
  background:rgba(17,24,39,.85); color:white; border-radius:6px;
  box-shadow:0 4px 12px rgba(0,0,0,.25); display:none;
}
.dark .size-chip{ background:rgba(255,255,255,.14); }

/* Feedback drag */
.sortable-ghost{
  opacity:.5; transform:scale(.98);
  background:rgba(99,102,241,.06) !important;
  border:2px dashed rgba(99,102,241,.35) !important;
}
.sortable-chosen{ transform:rotate(.5deg); z-index:10; }

/* Previews de librería (estético) */
.widget-preview{
  background:var(--card-bg);
  border:1px solid var(--card-bd);
  border-radius:12px;
  box-shadow:var(--card-shadow);
  position:relative; overflow:hidden;
}
.widget-preview::before{
  content:""; position:absolute; left:0; right:0; top:0; height:2px; background:var(--card-top); opacity:.85;
}
